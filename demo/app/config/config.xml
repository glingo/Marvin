<?xml version="1.0" encoding="UTF-8"?>
<container>
    
    <parameters>
        
        <parameter id="test.parameter.string" type="java.lang.String" value="My parameter string"/>

    </parameters>
    
    <import resource="app/config/imported_config.xml" />
    
    <services>
        
        <!-- Give a test service named Service A to the container -->
        <service id="test.service.a" class="app.service.TestServiceA">
            <argument type="java.lang.String" value="Service A"/>
            <argument type="int" value="1"/>
        </service>
        
        <!-- Give a test service named Service B ( with a reference to Service A ) to the container -->
        <service id="test.service.b" class="app.service.TestServiceB">
            <argument type="service" ref="test.service.a"/>
            <argument type="java.lang.String" value="Service B"/>
            <argument type="int" value="2"/>
        </service>
        
        <!-- Give a test service  to the container
                - named Service C 
                - with a reference to Service A
                - and a collection as argument
        -->
        <service id="test.service.c" class="app.service.TestServiceC">
            <argument type="service" ref="test.service.a"/>
            <argument type="java.lang.String" value="Service C"/>
            <argument type="int" value="3"/>
            <argument>
                <set>
                    <value type="string">Random string</value>
                    <value type="number">42</value>
                </set>
            </argument>
        </service>
        
        <!-- Give a test service with null parameters -->
        <service id="test.service.b.alpha" class="app.service.TestServiceB">
            <argument type="service" ref="test.service.a"/>
            <argument type="java.lang.String"/>
            <argument type="int"/>
        </service>
        
         <!-- Give a test service with imported resource -->
        <service id="test.service.b.alpha.with.import" class="app.service.TestServiceB">
            <argument type="service" ref="test.service.imported"/>
            <argument type="java.lang.String"/>
            <argument type="int"/>
        </service>
        
        <!-- Give a test service with parameter reference -->
        <service id="test.service.b.alpha.with.import" class="app.service.TestServiceB">
            <argument type="service" ref="test.service.imported"/>
            <argument type="parameter" ref="test.parameter.string"/>
            <argument type="int"/>
        </service>
        
        <!-- No id service definition, 
                builder will not be able to build a service from this definition 
        -->
        <service class="app.service.TestServiceA">
        </service>
        
    </services>
</container>
